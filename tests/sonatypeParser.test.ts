import { SonatypeParser } from "../src/sonatypeParser";
import { TestConsole } from "./testConsole";

test(`Parse SonaType file`, () => {
  const testConsole = new TestConsole();
  const parser = new SonatypeParser(testConsole);
  const tree = parser.parse({
    projectName: "test",
    sourceReport: "tests/data/ossIndexAuditScan.txt",
    exclude: [],
    include: [],
    projectInternal: [],
  });
  expect(tree).toMatchSnapshot();
  expect(testConsole.errorLines).toHaveLength(0);
});
