/* istanbul ignore file */
import commandLineArgs, { OptionDefinition } from "command-line-args";
import { ICommandOptions, WhiteListTypeEnum } from "./interfaces";
import { VulnerabilityScan } from "./vulnerabilityScan";

// See ICommandOptions for help
const optionDefinitions: OptionDefinition[] = [
  { name: "sourceReport", alias: "s", type: String },
  { name: "outputFile", alias: "o", type: String },
  { name: "teamcity", alias: "t", type: Boolean },
  /**
   * {@link WhiteListTypeEnum}
   */
  { name: "uu", alias: "u", type: String },
];
const options = commandLineArgs(optionDefinitions) as ICommandOptions;
options.uu = options.uu ?? WhiteListTypeEnum.all;
new VulnerabilityScan(options, console).run();
